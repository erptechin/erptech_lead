import{u as O,y as G,z as P,j as e,S as w,B as f,C as r}from"./index-BoCzCk_E.js";import{u as U,o as K}from"./index.esm-BLzqCPUM.js";import{a as M,D as l}from"./dynamicForms-D1n6YyJg.js";import{P as Y}from"./Page-CHRf9ovH.js";import{u as V,e as q,c as B,b as z}from"./ConfirmModal-BR2_0OO_.js";import{F as J}from"./DocumentPlusIcon-D2KOZ4GY.js";import"./transition-CBVadWHH.js";import"./floating-ui.dom-CtcSe9Ld.js";import"./iconBase-BIxOzkjH.js";import"./use-event-listener-aRyzntPF.js";import"./Datepicker-C8HgCOOX.js";import"./combobox-BT3r_8m7.js";import"./use-by-comparator-DF_ef1co.js";import"./calculate-active-index-C4R1c-E8.js";import"./useMutation-C15RvZAa.js";const b="Legal Plot",n="Legal Plot",y=["activity_date","activity_type","property_id","property_location"],h=["revenue_office_name","application_type","revenue_application_number","date_of_application","fee_paid","expected_disposal_date","current_status","objection_details","next_hearing_visit_date","outcome_order_summary","certified_copy_required","certified_copy_collected"],u=["civil_case_type","case_number","court_name","plaintiff_name","defendant_name","advocate_handling","date_of_filing","next_hearing_date","last_order_date","last_order_summary","interim_relief","stay_status","risk_level","impact_on_project"],N=["doc_document_type","doc_application_date","doc_application_number","office_applied_at","expected_delivery_date","collected_date","pending_reason","urgency_level","uploaded_copy"],j=["person_responsible","office_visited","purpose_of_visit","time_spent","remarks_field_notes","follow_up_required","next_action_date"],g=["fee_type","amount_paid","payment_mode","payment_date","receipt_uploaded","budget_head"],v=["legal_risk_category","critical_deadline","alert_required","alert_sent_to","escalation_level","compliance_status"],k=["activities_completed_today","activities_pending","new_cases_filed","orders_received","revenue_approvals_received","high_risk_properties","legal_spend_today","key_management_notes"],E=["entered_by","entered_on","verified_by","verified_date","last_updated_on","activity_status"],x=[...y,...h,...u,...N,...j,...g,...v,...k,...E],d={fields:{},ignorFields:{}},H=Object.fromEntries(x.map(m=>[m,""]));function ne(){const{isDark:m,darkColorScheme:A,lightColorScheme:C}=O(),p=G(),{id:c}=P(),{data:s,isFetching:T}=V({doctype:n,fields:JSON.stringify(x)}),{data:F,isFetching:I}=q({doctype:n,id:c,fields:JSON.stringify(x)}),S=B(o=>{o&&(_(),p(-1))}),R=z(o=>{o&&(_(),p(-1))}),{register:t,handleSubmit:D,formState:{errors:a},control:i,reset:_}=U({resolver:K(M(s==null?void 0:s.fields)),values:c?F:H}),L=o=>{c?R.mutate({doctype:n,body:{...o,id:c}}):S.mutate({doctype:n,body:o})};return T||I?e.jsx(w,{style:{"--sk-color":m?A[700]:C[300]}}):e.jsx(Y,{title:(c?"Edit ":"New ")+b,children:e.jsxs("div",{className:"transition-content px-(--margin-x) pb-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 py-5 sm:flex-row sm:space-y-0 lg:py-6",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"size-6"}),e.jsxs("h2",{className:"line-clamp-1 text-xl font-medium text-gray-700 dark:text-dark-50",children:[c?"Edit":"New"," ",b]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{className:"min-w-[7rem]",variant:"outlined",color:"error",onClick:()=>p(-1),children:"Back"}),e.jsx(f,{className:"min-w-[7rem]",color:"primary",type:"submit",form:"legal-plot-form",children:"Save"})]})]}),e.jsx("form",{autoComplete:"off",onSubmit:D(L),id:"legal-plot-form",children:e.jsxs("div",{className:"grid grid-cols-12 place-content-start gap-4 sm:gap-5 lg:gap-6",children:[e.jsxs("div",{className:"col-span-12 space-y-6 lg:col-span-8",children:[e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"LEGAL ACTIVITY TRACKING (CORE PAGE)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:y,tables:d,register:t,control:i,errors:a})})]}),e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"REVENUE & LAND RECORD ACTIVITIES (Tahasil / Revenue Offices)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:h,tables:d,register:t,control:i,errors:a})})]}),e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"CIVIL / COURT CASE TRACKING"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:u,tables:d,register:t,control:i,errors:a})})]}),e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"CERTIFIED COPY & DOCUMENT TRACKING"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:N,tables:d,register:t,control:i,errors:a})})]}),e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"DAILY LEGAL ACTIVITY LOG (HUMAN WORK TRACKING)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:j,tables:d,register:t,control:i,errors:a})})]})]}),e.jsxs("div",{className:"col-span-12 space-y-4 sm:space-y-5 lg:col-span-4 lg:space-y-6",children:[e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"COST & PAYMENT TRACKING"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:g,tables:d,register:t,control:i,errors:a})})]}),e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"RISK, COMPLIANCE & ALERTS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:v,tables:d,register:t,control:i,errors:a})})]}),e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"SYSTEM & AUDIT FIELDS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:E,tables:d,register:t,control:i,errors:a})})]})]}),e.jsx("div",{className:"col-span-12 space-y-6",children:e.jsxs(r,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"MANAGEMENT DAILY REPORT (AUTO-GENERATED)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(l,{infos:s,fields:k,tables:d,register:t,control:i,errors:a})})]})})]})})]})})}export{ne as default};
