import{a as C,j as e,C as h,B as b,k as H,l as $,n as R,o as m,p as Y,q as x,U as le,t as G,u as de,y as oe,z as ie,S as ne}from"./index-RYOzBd11.js";import{u as ce,o as me}from"./index.esm-D7Is-Opz.js";import{F as U,b as xe,a as pe,D as g}from"./dynamicForms-4JduQl6I.js";import{P as ue}from"./Page-B-KNyqFp.js";import{b as q,y as z,j as O,u as he,e as be,c as ke}from"./ConfirmModal-fuf52CCC.js";import{F as J}from"./PlusIcon-CtQz4fur.js";import{z as L,F as T}from"./transition-Dha4MsGh.js";import{F as V}from"./PaperClipIcon-BE1HMJPn.js";import{F as fe}from"./TrashIcon-BrzQfV3W.js";import{F as ge}from"./DocumentPlusIcon-BC1O2cLO.js";import"./iconBase-ZBJTecpS.js";import"./use-event-listener-e5zyxHSA.js";import"./Datepicker-cIpb0coF.js";import"./combobox-B5WFY3Yb.js";import"./use-by-comparator-D8LSY6cJ.js";import"./calculate-active-index-Dpt8YwVl.js";import"./useMutation-Dpcm0OUf.js";import"./floating-ui.dom-CtcSe9Ld.js";function ye({id:y,data:r,setValue:w,refetchData:_,doctype:i}){var o;const[t,n]=C.useState(!1),[s,l]=C.useState({followup_date:new Date().toISOString().split("T")[0],followup_type:"",followup_with:"",contact_number:"",purpose:"",followup_status:"Pending",remarks:"",next_followup_date:"",action_required:"No"}),c=q(a=>{a&&t&&(n(!1),_())}),N=()=>{if(s.followup_date&&s.followup_type&&s.followup_status){const a=(r==null?void 0:r.all_followup)||[],f=[...a,{...s,idx:a.length+1}];c.mutate({doctype:i,body:{id:y,all_followup:f}}),w("all_followup",f),l({followup_date:new Date().toISOString().split("T")[0],followup_type:"",followup_with:"",contact_number:"",purpose:"",followup_status:"Pending",remarks:"",next_followup_date:"",action_required:"No"})}};return y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-span-12 lg:col-span-12",children:e.jsx(h,{className:"p-4 sm:px-5",children:e.jsxs("div",{className:"mt-5 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Follow-up History Records"}),e.jsxs(b,{onClick:()=>n(!0),color:"primary",className:"flex items-center gap-2",children:[e.jsx(J,{className:"size-4"}),"Add New Record"]})]}),r!=null&&r.all_followup&&((o=r==null?void 0:r.all_followup)==null?void 0:o.length)>0?e.jsx("div",{className:"hide-scrollbar overflow-x-auto",children:e.jsxs(H,{hoverable:!0,className:"w-full min-w-[800px] text-left rtl:text-right",children:[e.jsx($,{children:e.jsxs(R,{className:"border-y border-transparent border-b-gray-200 dark:border-b-dark-500",children:[e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"#"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Follow-Up Date"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Type"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Follow-Up With"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Contact Number"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Purpose"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Status"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Next Follow-Up Date"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Remarks"})]})}),e.jsx(Y,{children:r==null?void 0:r.all_followup.map((a,f)=>e.jsxs(R,{className:"border-b border-gray-200 dark:border-dark-500",children:[e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:f+1}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.followup_date?new Date(a.followup_date).toLocaleDateString():"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.followup_type||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.followup_with||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.contact_number||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.purpose||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.followup_status||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.next_followup_date?new Date(a.next_followup_date).toLocaleDateString():"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.remarks||"-"})]},f))})]})}):e.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-dark-300",children:'No follow-up records yet. Click "Add New Record" to add one.'})})]})})}),e.jsxs(L,{appear:!0,show:t,as:z,onClose:()=>n(!1),children:[e.jsx(T,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"fixed inset-0 bg-gray-900/50 transition-opacity dark:bg-black/40"}),e.jsx(T,{as:O,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",className:"fixed inset-0 z-100 flex items-center justify-center overflow-hidden px-4 py-6 sm:px-5",children:e.jsxs("div",{className:"scrollbar-sm relative flex w-full max-w-2xl flex-col rounded-lg bg-white transition-opacity duration-300 dark:bg-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Add Follow-up History"}),e.jsx("button",{onClick:()=>n(!1),className:"rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-dark-600",children:e.jsx(U,{className:"size-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:["Follow-Up Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:s.followup_date,onChange:a=>l({...s,followup_date:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:["Follow-Up Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:s.followup_type,onChange:a=>l({...s,followup_type:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50",required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Phone Call",children:"Phone Call"}),e.jsx("option",{value:"Email",children:"Email"}),e.jsx("option",{value:"Office Visit",children:"Office Visit"}),e.jsx("option",{value:"Court Visit",children:"Court Visit"}),e.jsx("option",{value:"Meeting",children:"Meeting"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Follow-Up With (Name)"}),e.jsx("input",{type:"text",value:s.followup_with,onChange:a=>l({...s,followup_with:a.target.value}),placeholder:"Enter name",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Contact Number"}),e.jsx("input",{type:"text",value:s.contact_number,onChange:a=>l({...s,contact_number:a.target.value}),placeholder:"Enter contact number",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Purpose of Follow-Up"}),e.jsx("textarea",{value:s.purpose,onChange:a=>l({...s,purpose:a.target.value}),placeholder:"Enter purpose...",rows:"3",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:["Follow-Up Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:s.followup_status,onChange:a=>l({...s,followup_status:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50",required:!0,children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Rescheduled",children:"Rescheduled"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Next Follow-Up Date"}),e.jsx("input",{type:"date",value:s.next_followup_date,onChange:a=>l({...s,next_followup_date:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Action Required"}),e.jsxs("select",{value:s.action_required,onChange:a=>l({...s,action_required:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50",children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Remarks / Notes"}),e.jsx("textarea",{value:s.remarks,onChange:a=>l({...s,remarks:a.target.value}),placeholder:"Enter remarks...",rows:"3",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx(b,{variant:"outlined",onClick:()=>{n(!1),l({followup_date:new Date().toISOString().split("T")[0],followup_type:"",followup_with:"",contact_number:"",purpose:"",followup_status:"Pending",remarks:"",next_followup_date:"",action_required:"No"})},children:"Cancel"}),e.jsx(b,{color:"primary",onClick:N,disabled:!s.followup_date||!s.followup_type||!s.followup_status,children:"Add Record"})]})]})})]})]}):null}function je({id:y,data:r,setValue:w,refetchData:_,doctype:i}){var D,j;const[t,n]=C.useState(!1),[s,l]=C.useState(!1),[c,N]=C.useState(null),[o,a]=C.useState({title:"",file:""}),f=q(d=>{d&&t&&(n(!1),_())}),p=()=>{if(o.file){const d=(r==null?void 0:r.all_document)||[],k=[...d,{...o,idx:d.length+1}];f.mutate({doctype:i,body:{id:y,all_document:k}}),w("all_document",k),a({title:"",file:""})}},u=d=>{a({...o,file:d})},S=d=>{N(d),l(!0)},A=()=>{if(c===null)return;const d=(r==null?void 0:r.all_document)||[];if(!d.length)return;const k=d.filter((M,I)=>I!==c).map((M,I)=>({...M,idx:I+1}));f.mutate({doctype:i,body:{id:y,all_document:k}}),w("all_document",k),l(!1),N(null)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-span-12 lg:col-span-12",children:e.jsx(h,{className:"p-4 sm:px-5",children:e.jsxs("div",{className:"mt-5 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"All Documents"}),e.jsxs(b,{onClick:()=>n(!0),color:"primary",className:"flex items-center gap-2",children:[e.jsx(J,{className:"size-4"}),"Add New Document"]})]}),r!=null&&r.all_document&&((D=r==null?void 0:r.all_document)==null?void 0:D.length)>0?e.jsx("div",{className:"hide-scrollbar overflow-x-auto",children:e.jsxs(H,{hoverable:!0,className:"w-full min-w-[600px] text-left rtl:text-right",children:[e.jsx($,{children:e.jsxs(R,{className:"border-y border-transparent border-b-gray-200 dark:border-b-dark-500",children:[e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"#"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Title"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"File"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100 text-center",children:"Actions"})]})}),e.jsx(Y,{children:r==null?void 0:r.all_document.map((d,k)=>e.jsxs(R,{className:"border-b border-gray-200 dark:border-dark-500",children:[e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:k+1}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:d.title||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:d.file?e.jsxs("a",{href:d.file,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary-600 hover:text-primary-700 dark:text-primary-400",children:[e.jsx(V,{className:"size-4"}),e.jsx("span",{className:"truncate max-w-xs",children:"View File"})]}):"-"}),e.jsx(x,{className:"text-center",children:e.jsx(b,{size:"sm",variant:"outlined",color:"error",onClick:()=>S(k),className:"p-1.5",children:e.jsx(fe,{className:"size-4"})})})]},k))})]})}):e.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-dark-300",children:'No documents yet. Click "Add New Document" to add one.'})})]})})}),e.jsxs(L,{appear:!0,show:t,as:z,onClose:()=>n(!1),children:[e.jsx(T,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"fixed inset-0 bg-gray-900/50 transition-opacity dark:bg-black/40"}),e.jsx(T,{as:O,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",className:"fixed inset-0 z-100 flex items-center justify-center overflow-hidden px-4 py-6 sm:px-5",children:e.jsxs("div",{className:"scrollbar-sm relative flex w-full max-w-lg flex-col rounded-lg bg-white transition-opacity duration-300 dark:bg-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Add Document"}),e.jsx("button",{onClick:()=>{n(!1),a({title:"",file:""})},className:"rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-dark-600",children:e.jsx(U,{className:"size-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Title"}),e.jsx("input",{type:"text",value:o.title,onChange:d=>a({...o,title:d.target.value}),placeholder:"Enter document title...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:["File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(le,{onChange:u,children:({onClick:d,disabled:k})=>e.jsxs(b,{onClick:d,disabled:k,unstyled:!0,className:G("mt-3 w-full shrink-0 flex-col rounded-lg border-2 border-dashed py-10 border-gray-300 dark:border-dark-450",o.file&&"border-primary-500 dark:border-primary-500"),children:[e.jsx(xe,{className:"size-12"}),e.jsx("span",{className:G("pointer-events-none mt-2 text-gray-600 dark:text-dark-200"),children:o.file?e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"File uploaded successfully"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Browse"}),e.jsx("span",{children:" or drop your file here"})]})})]})}),o.file&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600 dark:text-dark-300",children:[e.jsx(V,{className:"size-4"}),e.jsx("a",{href:o.file,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 truncate",children:"View uploaded file"})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx(b,{variant:"outlined",onClick:()=>{n(!1),a({title:"",file:""})},children:"Cancel"}),e.jsx(b,{color:"primary",onClick:p,disabled:!o.file,children:"Add Document"})]})]})})]}),e.jsxs(L,{appear:!0,show:s,as:z,onClose:()=>l(!1),children:[e.jsx(T,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"fixed inset-0 bg-gray-900/50 transition-opacity dark:bg-black/40"}),e.jsx(T,{as:O,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",className:"fixed inset-0 z-100 flex items-center justify-center overflow-hidden px-4 py-6 sm:px-5",children:e.jsxs("div",{className:"scrollbar-sm relative flex w-full max-w-md flex-col rounded-lg bg-white transition-opacity duration-300 dark:bg-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Delete Document"}),e.jsx("button",{onClick:()=>{l(!1),N(null)},className:"rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-dark-600",children:e.jsx(U,{className:"size-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-dark-100",children:"Are you sure you want to delete this document?"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-300",children:"This action cannot be undone. The file link will be removed from this record."}),c!==null&&((j=r==null?void 0:r.all_document)==null?void 0:j[c])&&e.jsxs("div",{className:"mt-3 rounded-md border border-gray-200 bg-gray-50 p-3 text-xs dark:border-dark-500 dark:bg-dark-600",children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-dark-50",children:r.all_document[c].title||"Untitled document"}),r.all_document[c].file&&e.jsx("p",{className:"mt-1 truncate text-gray-500 underline dark:text-dark-200",children:r.all_document[c].file})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx(b,{variant:"outlined",onClick:()=>{l(!1),N(null)},children:"Cancel"}),e.jsx(b,{color:"error",onClick:A,disabled:c===null,children:"Delete"})]})]})})]})]})}const B="Legal",F="Legal",W=["case_type","fir_case_number","year","police_station_court_name","district","state","date_of_registration_filing","jurisdiction_type"],K=["complainant_name","complainant_address","complainant_contact_number","complainant_email","relationship_with_organisation"],Q=["organisation_name","organisation_type","cin_gst","authorised_signatory","business_locations"],X=["sections_invoked","nature_of_offence","brief_gist_allegations","detailed_case_summary","amount_involved","property_asset_involved","documents_involved"],Z=["transaction_type","cheque_number","cheque_date","cheque_amount","bank_name_branch","account_number","transaction_date","disputed_amount","admitted_amount","settlement_status"],ee=["io_name","io_contact","stage_of_case","arrest_made","custody_type","seizure_details","case_diary_reference_numbers","next_investigation_date"],ae=["court_name","case_number_court","presiding_judge","advocate_name","advocate_contact","date_of_hearing","last_order_date","last_order_summary","next_date_of_hearing","bail_status","stay_interim_order"],re=["threat_perception_level","type_of_threat","threat_incidents_recorded","protection_requested","police_protection_granted"],se=["uploaded_documents","document_date","document_category","seizure_list_attached","evidence_status"],te=["case_strength_assessment","risk_exposure","recommended_action","linked_counter_cases","limitation_date_alerts","next_legal_action_due","remarks_advocate_notes"],P=[...W,...K,...Q,...X,...Z,...ee,...ae,...re,...se,...te],v={all_document:{file:!0},ignorFields:{}},E=Object.fromEntries(P.map(y=>[y,""]));E.accused_details=[];E.all_document=[];E.all_followup=[];function qe(){const{isDark:y,darkColorScheme:r,lightColorScheme:w}=de(),_=oe(),{id:i}=ie(),{data:t,isFetching:n}=he({doctype:F,fields:JSON.stringify(P)}),{data:s,isFetching:l,refetch:c}=be({doctype:F,id:i,fields:JSON.stringify(P)}),N=ke(j=>{j&&(S(),_(-1))}),o=q(j=>{j&&(S(),_(-1))}),{register:a,handleSubmit:f,formState:{errors:p},control:u,reset:S,setValue:A}=ce({resolver:me(pe(t==null?void 0:t.fields)),values:i?s:E}),D=j=>{i?o.mutate({doctype:F,body:{...j,id:i}}):N.mutate({doctype:F,body:j})};return n||l?e.jsx(ne,{style:{"--sk-color":y?r[700]:w[300]}}):e.jsx(ue,{title:(i?"Edit ":"New ")+B,children:e.jsxs("div",{className:"transition-content px-(--margin-x) pb-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 py-5 sm:flex-row sm:space-y-0 lg:py-6",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ge,{className:"size-6"}),e.jsxs("h2",{className:"line-clamp-1 text-xl font-medium text-gray-700 dark:text-dark-50",children:[i?"Edit":"New"," ",B]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{className:"min-w-[7rem]",variant:"outlined",color:"error",onClick:()=>_(-1),children:"Back"}),e.jsx(b,{className:"min-w-[7rem]",color:"primary",type:"submit",form:"new-post-form",children:"Save"})]})]}),e.jsx("form",{autoComplete:"off",onSubmit:f(D),id:"new-post-form",children:e.jsxs("div",{className:"grid grid-cols-12 place-content-start gap-4 sm:gap-5 lg:gap-6",children:[e.jsx(ye,{id:i,data:s,setValue:A,refetchData:c,doctype:F}),e.jsx(je,{id:i,data:s,setValue:A,refetchData:c,doctype:F}),e.jsxs("div",{className:"col-span-12 lg:col-span-6 space-y-6",children:[e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"BASIC CASE IDENTIFICATION (Mandatory)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:W,tables:v,register:a,control:u,errors:p})})]}),e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"PARTY DETAILS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:K,tables:v,register:a,control:u,errors:p})})]}),e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"ORGANISATION DETAILS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:Q,tables:v,register:a,control:u,errors:p})})]}),e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"OFFENCE & LEGAL DETAILS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:X,tables:v,register:a,control:u,errors:p})})]}),e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"FINANCIAL & TRANSACTION DETAILS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:Z,tables:v,register:a,control:u,errors:p})})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-6 space-y-6",children:[e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"THREAT & RISK ASSESSMENT"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:re,register:a,control:u,errors:p})})]}),e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"DOCUMENT MANAGEMENT"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:se,register:a,control:u,errors:p})})]}),e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"INTERNAL LEGAL STRATEGY (Restricted Access)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:te,register:a,control:u,errors:p})})]}),e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"COURT PROCEEDINGS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:ae,tables:v,register:a,control:u,errors:p})})]}),e.jsxs(h,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-dark-100 border-b pb-2",children:"INVESTIGATION & PROCEDURAL STATUS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(g,{infos:t,fields:ee,tables:v,register:a,control:u,errors:p})})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-12 space-y-6"})]})})]})})}export{qe as default};
