import{a as F,j as e,C as b,B as p,k as K,l as B,n as S,o as m,p as H,q as x,U as te,t as G,u as le,y as de,z as oe,S as ie}from"./index-RYOzBd11.js";import{u as ne,o as ce}from"./index.esm-D7Is-Opz.js";import{F as I,b as me,a as xe,D as j}from"./dynamicForms-4JduQl6I.js";import{P as pe}from"./Page-B-KNyqFp.js";import{b as L,y as U,j as O,u as ue,e as fe,c as ke}from"./ConfirmModal-fuf52CCC.js";import{F as $}from"./PlusIcon-CtQz4fur.js";import{z as P,F as T}from"./transition-Dha4MsGh.js";import{F as V}from"./PaperClipIcon-BE1HMJPn.js";import{F as be}from"./TrashIcon-BrzQfV3W.js";import{F as he}from"./DocumentPlusIcon-BC1O2cLO.js";import"./iconBase-ZBJTecpS.js";import"./use-event-listener-e5zyxHSA.js";import"./Datepicker-cIpb0coF.js";import"./combobox-B5WFY3Yb.js";import"./use-by-comparator-D8LSY6cJ.js";import"./calculate-active-index-Dpt8YwVl.js";import"./useMutation-Dpcm0OUf.js";import"./floating-ui.dom-CtcSe9Ld.js";function ge({id:g,data:r,setValue:w,refetchData:v,doctype:i}){var o;const[d,n]=F.useState(!1),[s,t]=F.useState({followup_date:new Date().toISOString().split("T")[0],followup_type:"",followup_with:"",contact_number:"",purpose:"",followup_status:"Pending",remarks:"",next_followup_date:"",action_required:"No"}),c=L(a=>{a&&d&&(n(!1),v())}),_=()=>{if(s.followup_date&&s.followup_type&&s.followup_status){const a=(r==null?void 0:r.all_followup)||[],h=[...a,{...s,idx:a.length+1}];c.mutate({doctype:i,body:{id:g,all_followup:h}}),w("all_followup",h),t({followup_date:new Date().toISOString().split("T")[0],followup_type:"",followup_with:"",contact_number:"",purpose:"",followup_status:"Pending",remarks:"",next_followup_date:"",action_required:"No"})}};return g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-span-12 lg:col-span-12",children:e.jsx(b,{className:"p-4 sm:px-5",children:e.jsxs("div",{className:"mt-5 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Follow-up History Records"}),e.jsxs(p,{onClick:()=>n(!0),color:"primary",className:"flex items-center gap-2",children:[e.jsx($,{className:"size-4"}),"Add New Record"]})]}),r!=null&&r.all_followup&&((o=r==null?void 0:r.all_followup)==null?void 0:o.length)>0?e.jsx("div",{className:"hide-scrollbar overflow-x-auto",children:e.jsxs(K,{hoverable:!0,className:"w-full min-w-[800px] text-left rtl:text-right",children:[e.jsx(B,{children:e.jsxs(S,{className:"border-y border-transparent border-b-gray-200 dark:border-b-dark-500",children:[e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"#"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Follow-Up Date"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Type"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Follow-Up With"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Contact Number"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Purpose"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Status"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Next Follow-Up Date"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Remarks"})]})}),e.jsx(H,{children:r==null?void 0:r.all_followup.map((a,h)=>e.jsxs(S,{className:"border-b border-gray-200 dark:border-dark-500",children:[e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:h+1}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.followup_date?new Date(a.followup_date).toLocaleDateString():"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.followup_type||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.followup_with||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.contact_number||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.purpose||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.followup_status||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.next_followup_date?new Date(a.next_followup_date).toLocaleDateString():"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:a.remarks||"-"})]},h))})]})}):e.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-dark-300",children:'No follow-up records yet. Click "Add New Record" to add one.'})})]})})}),e.jsxs(P,{appear:!0,show:d,as:U,onClose:()=>n(!1),children:[e.jsx(T,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"fixed inset-0 bg-gray-900/50 transition-opacity dark:bg-black/40"}),e.jsx(T,{as:O,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",className:"fixed inset-0 z-100 flex items-center justify-center overflow-hidden px-4 py-6 sm:px-5",children:e.jsxs("div",{className:"scrollbar-sm relative flex w-full max-w-2xl flex-col rounded-lg bg-white transition-opacity duration-300 dark:bg-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Add Follow-up History"}),e.jsx("button",{onClick:()=>n(!1),className:"rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-dark-600",children:e.jsx(I,{className:"size-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:["Follow-Up Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:s.followup_date,onChange:a=>t({...s,followup_date:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:["Follow-Up Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:s.followup_type,onChange:a=>t({...s,followup_type:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50",required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Phone Call",children:"Phone Call"}),e.jsx("option",{value:"Email",children:"Email"}),e.jsx("option",{value:"Office Visit",children:"Office Visit"}),e.jsx("option",{value:"Court Visit",children:"Court Visit"}),e.jsx("option",{value:"Meeting",children:"Meeting"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Follow-Up With (Name)"}),e.jsx("input",{type:"text",value:s.followup_with,onChange:a=>t({...s,followup_with:a.target.value}),placeholder:"Enter name",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Contact Number"}),e.jsx("input",{type:"text",value:s.contact_number,onChange:a=>t({...s,contact_number:a.target.value}),placeholder:"Enter contact number",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Purpose of Follow-Up"}),e.jsx("textarea",{value:s.purpose,onChange:a=>t({...s,purpose:a.target.value}),placeholder:"Enter purpose...",rows:"3",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:["Follow-Up Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:s.followup_status,onChange:a=>t({...s,followup_status:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50",required:!0,children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Rescheduled",children:"Rescheduled"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Next Follow-Up Date"}),e.jsx("input",{type:"date",value:s.next_followup_date,onChange:a=>t({...s,next_followup_date:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Action Required"}),e.jsxs("select",{value:s.action_required,onChange:a=>t({...s,action_required:a.target.value}),className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50",children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Remarks / Notes"}),e.jsx("textarea",{value:s.remarks,onChange:a=>t({...s,remarks:a.target.value}),placeholder:"Enter remarks...",rows:"3",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx(p,{variant:"outlined",onClick:()=>{n(!1),t({followup_date:new Date().toISOString().split("T")[0],followup_type:"",followup_with:"",contact_number:"",purpose:"",followup_status:"Pending",remarks:"",next_followup_date:"",action_required:"No"})},children:"Cancel"}),e.jsx(p,{color:"primary",onClick:_,disabled:!s.followup_date||!s.followup_type||!s.followup_status,children:"Add Record"})]})]})})]})]}):null}function ye({id:g,data:r,setValue:w,refetchData:v,doctype:i}){var D,y;const[d,n]=F.useState(!1),[s,t]=F.useState(!1),[c,_]=F.useState(null),[o,a]=F.useState({title:"",file:""}),h=L(l=>{l&&d&&(n(!1),v())}),u=()=>{if(o.file){const l=(r==null?void 0:r.all_document)||[],k=[...l,{...o,idx:l.length+1}];h.mutate({doctype:i,body:{id:g,all_document:k}}),w("all_document",k),a({title:"",file:""})}},f=l=>{a({...o,file:l})},A=l=>{_(l),t(!0)},R=()=>{if(c===null)return;const l=(r==null?void 0:r.all_document)||[];if(!l.length)return;const k=l.filter((q,E)=>E!==c).map((q,E)=>({...q,idx:E+1}));h.mutate({doctype:i,body:{id:g,all_document:k}}),w("all_document",k),t(!1),_(null)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-span-12 lg:col-span-12",children:e.jsx(b,{className:"p-4 sm:px-5",children:e.jsxs("div",{className:"mt-5 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"All Documents"}),e.jsxs(p,{onClick:()=>n(!0),color:"primary",className:"flex items-center gap-2",children:[e.jsx($,{className:"size-4"}),"Add New Document"]})]}),r!=null&&r.all_document&&((D=r==null?void 0:r.all_document)==null?void 0:D.length)>0?e.jsx("div",{className:"hide-scrollbar overflow-x-auto",children:e.jsxs(K,{hoverable:!0,className:"w-full min-w-[600px] text-left rtl:text-right",children:[e.jsx(B,{children:e.jsxs(S,{className:"border-y border-transparent border-b-gray-200 dark:border-b-dark-500",children:[e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"#"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"Title"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100",children:"File"}),e.jsx(m,{className:"bg-gray-200 font-semibold uppercase text-gray-800 dark:bg-dark-800 dark:text-dark-100 text-center",children:"Actions"})]})}),e.jsx(H,{children:r==null?void 0:r.all_document.map((l,k)=>e.jsxs(S,{className:"border-b border-gray-200 dark:border-dark-500",children:[e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:k+1}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:l.title||"-"}),e.jsx(x,{className:"text-gray-700 dark:text-dark-200",children:l.file?e.jsxs("a",{href:l.file,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary-600 hover:text-primary-700 dark:text-primary-400",children:[e.jsx(V,{className:"size-4"}),e.jsx("span",{className:"truncate max-w-xs",children:"View File"})]}):"-"}),e.jsx(x,{className:"text-center",children:e.jsx(p,{size:"sm",variant:"outlined",color:"error",onClick:()=>A(k),className:"p-1.5",children:e.jsx(be,{className:"size-4"})})})]},k))})]})}):e.jsx("div",{className:"flex flex-col items-center justify-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-dark-300",children:'No documents yet. Click "Add New Document" to add one.'})})]})})}),e.jsxs(P,{appear:!0,show:d,as:U,onClose:()=>n(!1),children:[e.jsx(T,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"fixed inset-0 bg-gray-900/50 transition-opacity dark:bg-black/40"}),e.jsx(T,{as:O,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",className:"fixed inset-0 z-100 flex items-center justify-center overflow-hidden px-4 py-6 sm:px-5",children:e.jsxs("div",{className:"scrollbar-sm relative flex w-full max-w-lg flex-col rounded-lg bg-white transition-opacity duration-300 dark:bg-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Add Document"}),e.jsx("button",{onClick:()=>{n(!1),a({title:"",file:""})},className:"rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-dark-600",children:e.jsx(I,{className:"size-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:"Title"}),e.jsx("input",{type:"text",value:o.title,onChange:l=>a({...o,title:l.target.value}),placeholder:"Enter document title...",className:"w-full rounded-lg border border-gray-300 px-3 py-2 dark:border-dark-400 dark:bg-dark-500 dark:text-dark-50"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"mb-1 block text-sm font-medium text-gray-700 dark:text-dark-100",children:["File ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(te,{onChange:f,children:({onClick:l,disabled:k})=>e.jsxs(p,{onClick:l,disabled:k,unstyled:!0,className:G("mt-3 w-full shrink-0 flex-col rounded-lg border-2 border-dashed py-10 border-gray-300 dark:border-dark-450",o.file&&"border-primary-500 dark:border-primary-500"),children:[e.jsx(me,{className:"size-12"}),e.jsx("span",{className:G("pointer-events-none mt-2 text-gray-600 dark:text-dark-200"),children:o.file?e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"File uploaded successfully"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Browse"}),e.jsx("span",{children:" or drop your file here"})]})})]})}),o.file&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm text-gray-600 dark:text-dark-300",children:[e.jsx(V,{className:"size-4"}),e.jsx("a",{href:o.file,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 truncate",children:"View uploaded file"})]})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx(p,{variant:"outlined",onClick:()=>{n(!1),a({title:"",file:""})},children:"Cancel"}),e.jsx(p,{color:"primary",onClick:u,disabled:!o.file,children:"Add Document"})]})]})})]}),e.jsxs(P,{appear:!0,show:s,as:U,onClose:()=>t(!1),children:[e.jsx(T,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"fixed inset-0 bg-gray-900/50 transition-opacity dark:bg-black/40"}),e.jsx(T,{as:O,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",className:"fixed inset-0 z-100 flex items-center justify-center overflow-hidden px-4 py-6 sm:px-5",children:e.jsxs("div",{className:"scrollbar-sm relative flex w-full max-w-md flex-col rounded-lg bg-white transition-opacity duration-300 dark:bg-dark-700",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-dark-50",children:"Delete Document"}),e.jsx("button",{onClick:()=>{t(!1),_(null)},className:"rounded-lg p-1.5 hover:bg-gray-100 dark:hover:bg-dark-600",children:e.jsx(I,{className:"size-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-5",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-700 dark:text-dark-100",children:"Are you sure you want to delete this document?"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-300",children:"This action cannot be undone. The file link will be removed from this record."}),c!==null&&((y=r==null?void 0:r.all_document)==null?void 0:y[c])&&e.jsxs("div",{className:"mt-3 rounded-md border border-gray-200 bg-gray-50 p-3 text-xs dark:border-dark-500 dark:bg-dark-600",children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-dark-50",children:r.all_document[c].title||"Untitled document"}),r.all_document[c].file&&e.jsx("p",{className:"mt-1 truncate text-gray-500 underline dark:text-dark-200",children:r.all_document[c].file})]})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-200 px-5 py-4 dark:border-dark-500",children:[e.jsx(p,{variant:"outlined",onClick:()=>{t(!1),_(null)},children:"Cancel"}),e.jsx(p,{color:"error",onClick:R,disabled:c===null,children:"Delete"})]})]})})]})]})}const Y="Legal Plot",C="Legal Plot",W=["activity_date","activity_type","property_id","property_location"],J=["revenue_office_name","application_type","revenue_application_number","date_of_application","fee_paid","expected_disposal_date","current_status","objection_details","next_hearing_visit_date","outcome_order_summary","certified_copy_required","certified_copy_collected"],Q=["civil_case_type","case_number","court_name","plaintiff_name","defendant_name","advocate_handling","date_of_filing","next_hearing_date","last_order_date","last_order_summary","interim_relief","stay_status","risk_level","impact_on_project"],X=["doc_document_type","doc_application_date","doc_application_number","office_applied_at","expected_delivery_date","collected_date","pending_reason","urgency_level","uploaded_copy"],Z=["person_responsible","office_visited","purpose_of_visit","time_spent","remarks_field_notes"],ee=["fee_type","amount_paid","payment_mode","payment_date","receipt_uploaded","budget_head"],ae=["legal_risk_category","critical_deadline","alert_required","alert_sent_to","escalation_level","compliance_status"],re=["activities_completed_today","activities_pending","new_cases_filed","orders_received","revenue_approvals_received","high_risk_properties","legal_spend_today","key_management_notes"],se=["entered_by","entered_on","verified_by","verified_date","last_updated_on","activity_status"],z=[...W,...J,...Q,...X,...Z,...ee,...ae,...re,...se,"all_document","all_followup"],N={fields:{all_document:!0,all_followup:!0},ignorFields:{all_document:!0,all_followup:!0}},M=Object.fromEntries(z.map(g=>[g,""]));M.all_document=[];M.all_followup=[];function Le(){const{isDark:g,darkColorScheme:r,lightColorScheme:w}=le(),v=de(),{id:i}=oe(),{data:d,isFetching:n}=ue({doctype:C,fields:JSON.stringify(z)}),{data:s,isFetching:t,refetch:c}=fe({doctype:C,id:i,fields:JSON.stringify(z)}),_=ke(y=>{y&&(A(),v(-1))}),o=L(y=>{y&&(A(),v(-1))}),{register:a,handleSubmit:h,formState:{errors:u},control:f,reset:A,setValue:R}=ne({resolver:ce(xe(d==null?void 0:d.fields)),values:i?s:M}),D=y=>{i?o.mutate({doctype:C,body:{...y,id:i}}):_.mutate({doctype:C,body:y})};return n||t?e.jsx(ie,{style:{"--sk-color":g?r[700]:w[300]}}):e.jsx(pe,{title:(i?"Edit ":"New ")+Y,children:e.jsxs("div",{className:"transition-content px-(--margin-x) pb-6",children:[e.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 py-5 sm:flex-row sm:space-y-0 lg:py-6",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(he,{className:"size-6"}),e.jsxs("h2",{className:"line-clamp-1 text-xl font-medium text-gray-700 dark:text-dark-50",children:[i?"Edit":"New"," ",Y]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{className:"min-w-[7rem]",variant:"outlined",color:"error",onClick:()=>v(-1),children:"Back"}),e.jsx(p,{className:"min-w-[7rem]",color:"primary",type:"submit",form:"legal-plot-form",children:"Save"})]})]}),e.jsx("form",{autoComplete:"off",onSubmit:h(D),id:"legal-plot-form",children:e.jsxs("div",{className:"grid grid-cols-12 place-content-start gap-4 sm:gap-5 lg:gap-6",children:[e.jsx(ge,{id:i,data:s,setValue:R,refetchData:c,doctype:C}),e.jsx(ye,{id:i,data:s,setValue:R,refetchData:c,doctype:C}),e.jsxs("div",{className:"col-span-12 lg:col-span-6 space-y-6",children:[e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"LEGAL ACTIVITY TRACKING (CORE PAGE)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:W,tables:N,register:a,control:f,errors:u})})]}),e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"REVENUE & LAND RECORD ACTIVITIES (Tahasil / Revenue Offices)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:J,tables:N,register:a,control:f,errors:u})})]}),e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"CIVIL / COURT CASE TRACKING"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:Q,tables:N,register:a,control:f,errors:u})})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-6 space-y-6",children:[e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"COST & PAYMENT TRACKING"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:ee,tables:N,register:a,control:f,errors:u})})]}),e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"RISK, COMPLIANCE & ALERTS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:ae,tables:N,register:a,control:f,errors:u})})]}),e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"SYSTEM & AUDIT FIELDS"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:se,tables:N,register:a,control:f,errors:u})})]}),e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"CERTIFIED COPY & DOCUMENT TRACKING"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:X,tables:N,register:a,control:f,errors:u})})]}),e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"DAILY LEGAL ACTIVITY LOG (HUMAN WORK TRACKING)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:Z,tables:N,register:a,control:f,errors:u})})]})]}),e.jsx("div",{className:"col-span-12 space-y-6",children:e.jsxs(b,{className:"p-4 sm:px-5",children:[e.jsx("h3",{className:"mb-4 border-b pb-2 text-sm font-semibold text-gray-700 dark:text-dark-100",children:"MANAGEMENT DAILY REPORT (AUTO-GENERATED)"}),e.jsx("div",{className:"mt-5 space-y-5",children:e.jsx(j,{infos:d,fields:re,tables:N,register:a,control:f,errors:u})})]})})]})})]})})}export{Le as default};
