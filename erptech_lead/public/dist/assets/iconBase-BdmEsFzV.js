import{n as ae,o as g,a0 as Se,a3 as ke,K as Y,x as Re,R as _e,f as je,y as Q,t as Ne,u as he,g as Ee,i as V,m as De,h as Le,P as H,k as L,_ as ce,l as Oe,q as Ae,L as ee,W as Ke,s as Ge,a4 as He,a5 as pe,Z as Pe,V as We,A as ze,M as Ue,D as qe,E as W,O as te,c as G,B as Ze,C as Je,r as we,U as de,b as Qe,$ as Ve,d as Ye,w as Xe,e as et}from"./transition-5Qb9_UG4.js";import{R as v,a as s}from"./index-CJRJqnsH.js";import{E as tt}from"./use-event-listener-D5kU_-Xm.js";import{f as ne,s as re}from"./hidden-BHNy7nSf.js";let nt=s.createContext(()=>{});function rt({value:e,children:t}){return v.createElement(nt.Provider,{value:e},t)}function ot({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let l=ae(n),i=g(()=>{var p,b;let u=[];for(let o of e)o!==null&&(o instanceof HTMLElement?u.push(o):"current"in o&&o.current instanceof HTMLElement&&u.push(o.current));if(t!=null&&t.current)for(let o of t.current)u.push(o);for(let o of(p=l==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?p:[])o!==document.body&&o!==document.head&&o instanceof HTMLElement&&o.id!=="headlessui-portal-root"&&(n&&(o.contains(n)||o.contains((b=n==null?void 0:n.getRootNode())==null?void 0:b.host))||u.some(O=>o.contains(O))||u.push(o));return u});return{resolveContainers:i,contains:g(p=>i().some(b=>b.contains(p)))}}let $e=s.createContext(null);function Ie({children:e,node:t}){let[n,l]=s.useState(null),i=Ce(t??n);return v.createElement($e.Provider,{value:i},e,i===null&&v.createElement(ne,{features:re.Hidden,ref:p=>{var b,u;if(p){for(let o of(u=(b=Se(p))==null?void 0:b.querySelectorAll("html > *, body > *"))!=null?u:[])if(o!==document.body&&o!==document.head&&o instanceof HTMLElement&&o!=null&&o.contains(p)){l(o);break}}}}))}function Ce(e=null){var t;return(t=s.useContext($e))!=null?t:e}var D=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(D||{});function xe(){let e=s.useRef(0);return ke(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}var lt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(lt||{}),at=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(at||{});let ut={0:e=>({...e,popoverState:W(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},fe=s.createContext(null);fe.displayName="PopoverContext";function ue(e){let t=s.useContext(fe);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ue),n}return t}let se=s.createContext(null);se.displayName="PopoverAPIContext";function ve(e){let t=s.useContext(se);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ve),n}return t}let me=s.createContext(null);me.displayName="PopoverGroupContext";function Te(){return s.useContext(me)}let ie=s.createContext(null);ie.displayName="PopoverPanelContext";function st(){return s.useContext(ie)}function it(e,t){return W(t.type,ut,e,t)}let ct="div";function dt(e,t){var n;let{__demoMode:l=!1,...i}=e,p=s.useRef(null),b=Q(t,He(d=>{p.current=d})),u=s.useRef([]),o=s.useReducer(it,{__demoMode:l,popoverState:l?0:1,buttons:u,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:s.createRef(),afterPanelSentinel:s.createRef(),afterButtonSentinel:s.createRef()}),[{popoverState:O,button:a,buttonId:S,panel:y,panelId:w,beforePanelSentinel:$,afterPanelSentinel:h,afterButtonSentinel:c},P]=o,E=ae((n=p.current)!=null?n:a),F=s.useMemo(()=>{if(!a||!y)return!1;for(let I of document.querySelectorAll("body > *"))if(Number(I==null?void 0:I.contains(a))^Number(I==null?void 0:I.contains(y)))return!0;let d=pe(),r=d.indexOf(a),m=(r+d.length-1)%d.length,f=(r+1)%d.length,x=d[m],B=d[f];return!y.contains(x)&&!y.contains(B)},[a,y]),M=Pe(S),k=Pe(w),z=s.useMemo(()=>({buttonId:M,panelId:k,close:()=>P({type:1})}),[M,k,P]),R=Te(),C=R==null?void 0:R.registerPopover,A=g(()=>{var d;return(d=R==null?void 0:R.isFocusWithinPopoverGroup())!=null?d:(E==null?void 0:E.activeElement)&&((a==null?void 0:a.contains(E.activeElement))||(y==null?void 0:y.contains(E.activeElement)))});s.useEffect(()=>C==null?void 0:C(z),[C,z]);let[T,U]=We(),K=Ce(a),_=ot({mainTreeNode:K,portals:T,defaultContainers:[a,y]});tt(E==null?void 0:E.defaultView,"focus",d=>{var r,m,f,x,B,I;d.target!==window&&d.target instanceof HTMLElement&&O===0&&(A()||a&&y&&(_.contains(d.target)||(m=(r=$.current)==null?void 0:r.contains)!=null&&m.call(r,d.target)||(x=(f=h.current)==null?void 0:f.contains)!=null&&x.call(f,d.target)||(I=(B=c.current)==null?void 0:B.contains)!=null&&I.call(B,d.target)||P({type:1})))},!0),ze(O===0,_.resolveContainers,(d,r)=>{P({type:1}),Ze(r,Je.Loose)||(d.preventDefault(),a==null||a.focus())});let j=g(d=>{P({type:1});let r=d?d instanceof HTMLElement?d:"current"in d&&d.current instanceof HTMLElement?d.current:a:a;r==null||r.focus()}),q=s.useMemo(()=>({close:j,isPortalled:F}),[j,F]),Z=s.useMemo(()=>({open:O===0,close:j}),[O,j]),J={ref:b},X=ee();return v.createElement(Ie,{node:K},v.createElement(Ue,null,v.createElement(ie.Provider,{value:null},v.createElement(fe.Provider,{value:o},v.createElement(se.Provider,{value:q},v.createElement(rt,{value:j},v.createElement(qe,{value:W(O,{0:V.Open,1:V.Closed})},v.createElement(U,null,X({ourProps:J,theirProps:i,slot:Z,defaultTag:ct,name:"Popover"})))))))))}let pt="button";function ft(e,t){let n=s.useId(),{id:l=`headlessui-popover-button-${n}`,disabled:i=!1,autoFocus:p=!1,...b}=e,[u,o]=ue("Popover.Button"),{isPortalled:O}=ve("Popover.Button"),a=s.useRef(null),S=`headlessui-focus-sentinel-${s.useId()}`,y=Te(),w=y==null?void 0:y.closeOthers,$=st()!==null;s.useEffect(()=>{if(!$)return o({type:3,buttonId:l}),()=>{o({type:3,buttonId:null})}},[$,l,o]);let[h]=s.useState(()=>Symbol()),c=Q(a,t,Qe(),g(r=>{if(!$){if(r)u.buttons.current.push(h);else{let m=u.buttons.current.indexOf(h);m!==-1&&u.buttons.current.splice(m,1)}u.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),r&&o({type:2,button:r})}})),P=Q(a,t),E=ae(a),F=g(r=>{var m,f,x;if($){if(u.popoverState===1)return;switch(r.key){case G.Space:case G.Enter:r.preventDefault(),(f=(m=r.target).click)==null||f.call(m),o({type:1}),(x=u.button)==null||x.focus();break}}else switch(r.key){case G.Space:case G.Enter:r.preventDefault(),r.stopPropagation(),u.popoverState===1&&(w==null||w(u.buttonId)),o({type:0});break;case G.Escape:if(u.popoverState!==0)return w==null?void 0:w(u.buttonId);if(!a.current||E!=null&&E.activeElement&&!a.current.contains(E.activeElement))return;r.preventDefault(),r.stopPropagation(),o({type:1});break}}),M=g(r=>{$||r.key===G.Space&&r.preventDefault()}),k=g(r=>{var m,f;we(r.currentTarget)||i||($?(o({type:1}),(m=u.button)==null||m.focus()):(r.preventDefault(),r.stopPropagation(),u.popoverState===1&&(w==null||w(u.buttonId)),o({type:0}),(f=u.button)==null||f.focus()))}),z=g(r=>{r.preventDefault(),r.stopPropagation()}),{isFocusVisible:R,focusProps:C}=Ve({autoFocus:p}),{isHovered:A,hoverProps:T}=Ye({isDisabled:i}),{pressed:U,pressProps:K}=Xe({disabled:i}),_=u.popoverState===0,j=s.useMemo(()=>({open:_,active:U||_,disabled:i,hover:A,focus:R,autofocus:p}),[_,A,R,U,i,p]),q=et(e,u.button),Z=$?ce({ref:P,type:q,onKeyDown:F,onClick:k,disabled:i||void 0,autoFocus:p},C,T,K):ce({ref:c,id:u.buttonId,type:q,"aria-expanded":u.popoverState===0,"aria-controls":u.panel?u.panelId:void 0,disabled:i||void 0,autoFocus:p,onKeyDown:F,onKeyUp:M,onClick:k,onMouseDown:z},C,T,K),J=xe(),X=g(()=>{let r=u.panel;if(!r)return;function m(){W(J.current,{[D.Forwards]:()=>H(r,L.First),[D.Backwards]:()=>H(r,L.Last)})===de.Error&&H(pe().filter(f=>f.dataset.headlessuiFocusGuard!=="true"),W(J.current,{[D.Forwards]:L.Next,[D.Backwards]:L.Previous}),{relativeTo:u.button})}m()}),d=ee();return v.createElement(v.Fragment,null,d({ourProps:Z,theirProps:b,slot:j,defaultTag:pt,name:"Popover.Button"}),_&&!$&&O&&v.createElement(ne,{id:S,ref:u.afterButtonSentinel,features:re.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:X}))}let vt="div",mt=te.RenderStrategy|te.Static;function Be(e,t){let n=s.useId(),{id:l=`headlessui-popover-backdrop-${n}`,transition:i=!1,...p}=e,[{popoverState:b},u]=ue("Popover.Backdrop"),[o,O]=s.useState(null),a=Q(t,O),S=he(),[y,w]=Ee(i,o,S!==null?(S&V.Open)===V.Open:b===0),$=g(P=>{if(we(P.currentTarget))return P.preventDefault();u({type:1})}),h=s.useMemo(()=>({open:b===0}),[b]),c={ref:a,id:l,"aria-hidden":!0,onClick:$,...Oe(w)};return ee()({ourProps:c,theirProps:p,slot:h,defaultTag:vt,features:mt,visible:y,name:"Popover.Backdrop"})}let bt="div",Pt=te.RenderStrategy|te.Static;function yt(e,t){let n=s.useId(),{id:l=`headlessui-popover-panel-${n}`,focus:i=!1,anchor:p,portal:b=!1,modal:u=!1,transition:o=!1,...O}=e,[a,S]=ue("Popover.Panel"),{close:y,isPortalled:w}=ve("Popover.Panel"),$=`headlessui-focus-sentinel-before-${n}`,h=`headlessui-focus-sentinel-after-${n}`,c=s.useRef(null),P=Re(p),[E,F]=_e(P),M=je();P&&(b=!0);let[k,z]=s.useState(null),R=Q(c,t,P?E:null,g(r=>S({type:4,panel:r})),z),C=ae(c);Ne(()=>(S({type:5,panelId:l}),()=>{S({type:5,panelId:null})}),[l,S]);let A=he(),[T,U]=Ee(o,k,A!==null?(A&V.Open)===V.Open:a.popoverState===0);De(T,a.button,()=>{S({type:1})});let K=a.__demoMode?!1:u&&T;Le(K,C);let _=g(r=>{var m;switch(r.key){case G.Escape:if(a.popoverState!==0||!c.current||C!=null&&C.activeElement&&!c.current.contains(C.activeElement))return;r.preventDefault(),r.stopPropagation(),S({type:1}),(m=a.button)==null||m.focus();break}});s.useEffect(()=>{var r;e.static||a.popoverState===1&&((r=e.unmount)==null||r)&&S({type:4,panel:null})},[a.popoverState,e.unmount,e.static,S]),s.useEffect(()=>{if(a.__demoMode||!i||a.popoverState!==0||!c.current)return;let r=C==null?void 0:C.activeElement;c.current.contains(r)||H(c.current,L.First)},[a.__demoMode,i,c.current,a.popoverState]);let j=s.useMemo(()=>({open:a.popoverState===0,close:y}),[a.popoverState,y]),q=ce(P?M():{},{ref:R,id:l,onKeyDown:_,onBlur:i&&a.popoverState===0?r=>{var m,f,x,B,I;let N=r.relatedTarget;N&&c.current&&((m=c.current)!=null&&m.contains(N)||(S({type:1}),((x=(f=a.beforePanelSentinel.current)==null?void 0:f.contains)!=null&&x.call(f,N)||(I=(B=a.afterPanelSentinel.current)==null?void 0:B.contains)!=null&&I.call(B,N))&&N.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...O.style,...F,"--button-width":Ae(a.button,!0).width},...Oe(U)}),Z=xe(),J=g(()=>{let r=c.current;if(!r)return;function m(){W(Z.current,{[D.Forwards]:()=>{var f;H(r,L.First)===de.Error&&((f=a.afterPanelSentinel.current)==null||f.focus())},[D.Backwards]:()=>{var f;(f=a.button)==null||f.focus({preventScroll:!0})}})}m()}),X=g(()=>{let r=c.current;if(!r)return;function m(){W(Z.current,{[D.Forwards]:()=>{if(!a.button)return;let f=pe(),x=f.indexOf(a.button),B=f.slice(0,x+1),I=[...f.slice(x+1),...B];for(let N of I.slice())if(N.dataset.headlessuiFocusGuard==="true"||k!=null&&k.contains(N)){let be=I.indexOf(N);be!==-1&&I.splice(be,1)}H(I,L.First,{sorted:!1})},[D.Backwards]:()=>{var f;H(r,L.Previous)===de.Error&&((f=a.button)==null||f.focus())}})}m()}),d=ee();return v.createElement(Ke,null,v.createElement(ie.Provider,{value:l},v.createElement(se.Provider,{value:{close:y,isPortalled:w}},v.createElement(Ge,{enabled:b?e.static||T:!1},T&&w&&v.createElement(ne,{id:$,ref:a.beforePanelSentinel,features:re.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:J}),d({ourProps:q,theirProps:O,slot:j,defaultTag:bt,features:Pt,visible:T,name:"Popover.Panel"}),T&&w&&v.createElement(ne,{id:h,ref:a.afterPanelSentinel,features:re.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:X})))))}let gt="div";function St(e,t){let n=s.useRef(null),l=Q(n,t),[i,p]=s.useState([]),b=g(h=>{p(c=>{let P=c.indexOf(h);if(P!==-1){let E=c.slice();return E.splice(P,1),E}return c})}),u=g(h=>(p(c=>[...c,h]),()=>b(h))),o=g(()=>{var h;let c=Se(n);if(!c)return!1;let P=c.activeElement;return(h=n.current)!=null&&h.contains(P)?!0:i.some(E=>{var F,M;return((F=c.getElementById(E.buttonId.current))==null?void 0:F.contains(P))||((M=c.getElementById(E.panelId.current))==null?void 0:M.contains(P))})}),O=g(h=>{for(let c of i)c.buttonId.current!==h&&c.close()}),a=s.useMemo(()=>({registerPopover:u,unregisterPopover:b,isFocusWithinPopoverGroup:o,closeOthers:O}),[u,b,o,O]),S=s.useMemo(()=>({}),[]),y=e,w={ref:l},$=ee();return v.createElement(Ie,null,v.createElement(me.Provider,{value:a},$({ourProps:w,theirProps:y,slot:S,defaultTag:gt,name:"Popover.Group"})))}let ht=Y(dt),Et=Y(ft),Ot=Y(Be),wt=Y(Be),$t=Y(yt),It=Y(St),Dt=Object.assign(ht,{Button:Et,Backdrop:wt,Overlay:Ot,Panel:$t,Group:It});var Fe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ye=v.createContext&&v.createContext(Fe),Ct=["attr","size","title"];function xt(e,t){if(e==null)return{};var n=Tt(e,t),l,i;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)l=p[i],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}function Tt(e,t){if(e==null)return{};var n={};for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){if(t.indexOf(l)>=0)continue;n[l]=e[l]}return n}function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},oe.apply(this,arguments)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,l)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ge(Object(n),!0).forEach(function(l){Bt(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function Bt(e,t,n){return t=Ft(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){var t=Mt(e,"string");return typeof t=="symbol"?t:t+""}function Mt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var l=n.call(e,t);if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Me(e){return e&&e.map((t,n)=>v.createElement(t.tag,le({key:n},t.attr),Me(t.child)))}function Lt(e){return t=>v.createElement(kt,oe({attr:le({},e.attr)},t),Me(e.child))}function kt(e){var t=n=>{var{attr:l,size:i,title:p}=e,b=xt(e,Ct),u=i||n.size||"1em",o;return n.className&&(o=n.className),e.className&&(o=(o?o+" ":"")+e.className),v.createElement("svg",oe({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,l,b,{className:o,style:le(le({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),p&&v.createElement("title",null,p),e.children)};return ye!==void 0?v.createElement(ye.Consumer,null,n=>t(n)):t(Fe)}export{rt as C,Lt as G,Ie as O,$t as R,Et as S,D as a,Ce as b,ot as c,Dt as l,xe as u};
