import{R as d,a as u}from"./index-Dw_aqVL9.js";import{T as Pe,c as ee,v as Me,N as Be,n as ae,o as $,V as ot,K as L,y as z,W as Ne,I as U,X as N,l as O,p as lt,L as W,Y as at,Z as Q,a0 as Le,a1 as _e,a2 as ue,a3 as ut,F as je,u as de,z as it,i as Y,a4 as Ae,j as st,C as He,h as Ge,m as Ke,B as ct,a5 as Ye,a6 as Ce,t as ze,a7 as dt,O as re,b as ft,$ as pt,d as vt,w as mt,e as bt,_ as ge,x as gt,R as Pt,f as Et,g as Ue,q as We,s as yt,a8 as ht,a9 as Ee,Q as ke,M as wt,H as St,r as Ve,D as $t,E as Ft}from"./transition-B3YjhkUm.js";import{E as ye,m as he,r as be}from"./active-element-history-hm4zKhv1.js";import{f as oe,s as le}from"./hidden-DIZPa8be.js";let Tt=u.createContext(()=>{});function qe({value:e,children:t}){return d.createElement(Tt.Provider,{value:e},t)}function It(e,t=typeof document<"u"?document.defaultView:null,n){let r=Pe(e,"escape");ye(t,"keydown",l=>{r&&(l.defaultPrevented||l.key===ee.Escape&&n(l))})}function Ot(){var e;let[t]=u.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=u.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Me(()=>{if(!t)return;function l(c){r(c.matches)}return t.addEventListener("change",l),()=>t.removeEventListener("change",l)},[t]),n}function Ze({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=ae(n),l=$(()=>{var c,f;let o=[];for(let a of e)a!==null&&(a instanceof HTMLElement?o.push(a):"current"in a&&a.current instanceof HTMLElement&&o.push(a.current));if(t!=null&&t.current)for(let a of t.current)o.push(a);for(let a of(c=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?c:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(n&&(a.contains(n)||a.contains((f=n==null?void 0:n.getRootNode())==null?void 0:f.host))||o.some(v=>a.contains(v))||o.push(a));return o});return{resolveContainers:l,contains:$(c=>l().some(f=>f.contains(c)))}}let Qe=u.createContext(null);function ie({children:e,node:t}){let[n,r]=u.useState(null),l=we(t??n);return d.createElement(Qe.Provider,{value:l},e,l===null&&d.createElement(oe,{features:le.Hidden,ref:c=>{var f,o;if(c){for(let a of(o=(f=Be(c))==null?void 0:f.querySelectorAll("html > *, body > *"))!=null?o:[])if(a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a!=null&&a.contains(c)){r(a);break}}}}))}function we(e=null){var t;return(t=u.useContext(Qe))!=null?t:e}var M=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(M||{});function Se(){let e=u.useRef(0);return ot(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Je(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Ct="div";var ne=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ne||{});function kt(e,t){let n=u.useRef(null),r=z(n,t),{initialFocus:l,initialFocusFallback:c,containers:f,features:o=15,...a}=e;Ne()||(o=0);let v=ae(n);Mt(o,{ownerDocument:v});let i=Bt(o,{ownerDocument:v,container:n,initialFocus:l,initialFocusFallback:c});Nt(o,{ownerDocument:v,container:n,containers:f,previousActiveElement:i});let F=Se(),y=$(g=>{let I=n.current;I&&(T=>T())(()=>{U(F.current,{[M.Forwards]:()=>{N(I,O.First,{skipElements:[g.relatedTarget,c]})},[M.Backwards]:()=>{N(I,O.Last,{skipElements:[g.relatedTarget,c]})}})})}),w=Pe(!!(o&2),"focus-trap#tab-lock"),h=lt(),S=u.useRef(!1),m={ref:r,onKeyDown(g){g.key=="Tab"&&(S.current=!0,h.requestAnimationFrame(()=>{S.current=!1}))},onBlur(g){if(!(o&4))return;let I=Je(f);n.current instanceof HTMLElement&&I.add(n.current);let T=g.relatedTarget;T instanceof HTMLElement&&T.dataset.headlessuiFocusGuard!=="true"&&(Xe(I,T)||(S.current?N(n.current,U(F.current,{[M.Forwards]:()=>O.Next,[M.Backwards]:()=>O.Previous})|O.WrapAround,{relativeTo:g.target}):g.target instanceof HTMLElement&&Q(g.target)))}},E=W();return d.createElement(d.Fragment,null,w&&d.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:le.Focusable}),E({ourProps:m,theirProps:a,defaultTag:Ct,name:"FocusTrap"}),w&&d.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:y,features:le.Focusable}))}let xt=L(kt),Dt=Object.assign(xt,{features:ne});function Rt(e=!0){let t=u.useRef(be.slice());return he(([n],[r])=>{r===!0&&n===!1&&_e(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=be.slice())},[e,be,t]),$(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Mt(e,{ownerDocument:t}){let n=!!(e&8),r=Rt(n);he(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Q(r())},[n]),at(()=>{n&&Q(r())})}function Bt(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:l}){let c=u.useRef(null),f=Pe(!!(e&1),"focus-trap#initial-focus"),o=Le();return he(()=>{if(e===0)return;if(!f){l!=null&&l.current&&Q(l.current);return}let a=n.current;a&&_e(()=>{if(!o.current)return;let v=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===v){c.current=v;return}}else if(a.contains(v)){c.current=v;return}if(r!=null&&r.current)Q(r.current);else{if(e&16){if(N(a,O.First|O.AutoFocus)!==ue.Error)return}else if(N(a,O.First)!==ue.Error)return;if(l!=null&&l.current&&(Q(l.current),(t==null?void 0:t.activeElement)===l.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}c.current=t==null?void 0:t.activeElement})},[l,f,e]),c}function Nt(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:l}){let c=Le(),f=!!(e&4);ye(t==null?void 0:t.defaultView,"focus",o=>{if(!f||!c.current)return;let a=Je(r);n.current instanceof HTMLElement&&a.add(n.current);let v=l.current;if(!v)return;let i=o.target;i&&i instanceof HTMLElement?Xe(a,i)?(l.current=i,Q(i)):(o.preventDefault(),o.stopPropagation(),Q(v)):Q(l.current)},!0)}function Xe(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var Lt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Lt||{}),_t=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(_t||{});let jt={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},$e=u.createContext(null);$e.displayName="DialogContext";function fe(e){let t=u.useContext($e);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fe),n}return t}function At(e,t){return U(t.type,jt,e,t)}let xe=L(function(e,t){let n=u.useId(),{id:r=`headlessui-dialog-${n}`,open:l,onClose:c,initialFocus:f,role:o="dialog",autoFocus:a=!0,__demoMode:v=!1,unmount:i=!1,...F}=e,y=u.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(y.current||(y.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let w=de();l===void 0&&w!==null&&(l=(w&Y.Open)===Y.Open);let h=u.useRef(null),S=z(h,t),m=ae(h),E=l?0:1,[g,I]=u.useReducer(At,{titleId:null,descriptionId:null,panelRef:u.createRef()}),T=$(()=>c(!1)),B=$(p=>I({type:0,id:p})),D=Ne()?E===0:!1,[_,C]=Ae(),V={get current(){var p;return(p=g.panelRef.current)!=null?p:h.current}},k=we(),{resolveContainers:G}=Ze({mainTreeNode:k,portals:_,defaultContainers:[V]}),K=w!==null?(w&Y.Closing)===Y.Closing:!1;st(v||K?!1:D,{allowed:$(()=>{var p,P;return[(P=(p=h.current)==null?void 0:p.closest("[data-headlessui-portal]"))!=null?P:null]}),disallowed:$(()=>{var p;return[(p=k==null?void 0:k.closest("body > *:not(#headlessui-portal-root)"))!=null?p:null]})}),He(D,G,p=>{p.preventDefault(),T()}),It(D,m==null?void 0:m.defaultView,p=>{p.preventDefault(),p.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),Ge(v||K?!1:D,m,G),Ke(D,h,T);let[j,A]=ct(),J=u.useMemo(()=>[{dialogState:E,close:T,setTitleId:B,unmount:i},g],[E,g,T,B,i]),q=u.useMemo(()=>({open:E===0}),[E]),X={ref:S,id:r,role:o,tabIndex:-1,"aria-modal":v?void 0:E===0?!0:void 0,"aria-labelledby":g.titleId,"aria-describedby":j,unmount:i},te=!Ot(),b=ne.None;D&&!v&&(b|=ne.RestoreFocus,b|=ne.TabLock,a&&(b|=ne.AutoFocus),te&&(b|=ne.InitialFocus));let s=W();return d.createElement(Ye,null,d.createElement(Ce,{force:!0},d.createElement(ze,null,d.createElement($e.Provider,{value:J},d.createElement(dt,{target:h},d.createElement(Ce,{force:!1},d.createElement(A,{slot:q},d.createElement(C,null,d.createElement(Dt,{initialFocus:f,initialFocusFallback:h,containers:G,features:b},d.createElement(qe,{value:T},s({ourProps:X,theirProps:F,slot:q,defaultTag:Ht,features:Gt,visible:E===0,name:"Dialog"})))))))))))}),Ht="div",Gt=re.RenderStrategy|re.Static;function Kt(e,t){let{transition:n=!1,open:r,...l}=e,c=de(),f=e.hasOwnProperty("open")||c!==null,o=e.hasOwnProperty("onClose");if(!f&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!f)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!c&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!l.static?d.createElement(ie,null,d.createElement(it,{show:r,transition:n,unmount:l.unmount},d.createElement(xe,{ref:t,...l}))):d.createElement(ie,null,d.createElement(xe,{ref:t,open:r,...l}))}let Yt="div";function zt(e,t){let n=u.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:l=!1,...c}=e,[{dialogState:f,unmount:o},a]=fe("Dialog.Panel"),v=z(t,a.panelRef),i=u.useMemo(()=>({open:f===0}),[f]),F=$(m=>{m.stopPropagation()}),y={ref:v,id:r,onClick:F},w=l?je:u.Fragment,h=l?{unmount:o}:{},S=W();return d.createElement(w,{...h},S({ourProps:y,theirProps:c,slot:i,defaultTag:Yt,name:"Dialog.Panel"}))}let Ut="div";function Wt(e,t){let{transition:n=!1,...r}=e,[{dialogState:l,unmount:c}]=fe("Dialog.Backdrop"),f=u.useMemo(()=>({open:l===0}),[l]),o={ref:t,"aria-hidden":!0},a=n?je:u.Fragment,v=n?{unmount:c}:{},i=W();return d.createElement(a,{...v},i({ourProps:o,theirProps:r,slot:f,defaultTag:Ut,name:"Dialog.Backdrop"}))}let Vt="h2";function qt(e,t){let n=u.useId(),{id:r=`headlessui-dialog-title-${n}`,...l}=e,[{dialogState:c,setTitleId:f}]=fe("Dialog.Title"),o=z(t);u.useEffect(()=>(f(r),()=>f(null)),[r,f]);let a=u.useMemo(()=>({open:c===0}),[c]),v={ref:o,id:r};return W()({ourProps:v,theirProps:l,slot:a,defaultTag:Vt,name:"Dialog.Title"})}let Zt=L(Kt),Qt=L(zt);L(Wt);let Jt=L(qt),Rn=Object.assign(Zt,{Panel:Qt,Title:Jt,Description:ut});var Xt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Xt||{}),en=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(en||{});let tn={0:e=>({...e,popoverState:U(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Fe=u.createContext(null);Fe.displayName="PopoverContext";function pe(e){let t=u.useContext(Fe);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pe),n}return t}let ve=u.createContext(null);ve.displayName="PopoverAPIContext";function Te(e){let t=u.useContext(ve);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Te),n}return t}let Ie=u.createContext(null);Ie.displayName="PopoverGroupContext";function et(){return u.useContext(Ie)}let me=u.createContext(null);me.displayName="PopoverPanelContext";function nn(){return u.useContext(me)}function rn(e,t){return U(t.type,tn,e,t)}let on="div";function ln(e,t){var n;let{__demoMode:r=!1,...l}=e,c=u.useRef(null),f=z(t,ht(b=>{c.current=b})),o=u.useRef([]),a=u.useReducer(rn,{__demoMode:r,popoverState:r?0:1,buttons:o,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:u.createRef(),afterPanelSentinel:u.createRef(),afterButtonSentinel:u.createRef()}),[{popoverState:v,button:i,buttonId:F,panel:y,panelId:w,beforePanelSentinel:h,afterPanelSentinel:S,afterButtonSentinel:m},E]=a,g=ae((n=c.current)!=null?n:i),I=u.useMemo(()=>{if(!i||!y)return!1;for(let x of document.querySelectorAll("body > *"))if(Number(x==null?void 0:x.contains(i))^Number(x==null?void 0:x.contains(y)))return!0;let b=Ee(),s=b.indexOf(i),p=(s+b.length-1)%b.length,P=(s+1)%b.length,R=b[p],H=b[P];return!y.contains(R)&&!y.contains(H)},[i,y]),T=ke(F),B=ke(w),D=u.useMemo(()=>({buttonId:T,panelId:B,close:()=>E({type:1})}),[T,B,E]),_=et(),C=_==null?void 0:_.registerPopover,V=$(()=>{var b;return(b=_==null?void 0:_.isFocusWithinPopoverGroup())!=null?b:(g==null?void 0:g.activeElement)&&((i==null?void 0:i.contains(g.activeElement))||(y==null?void 0:y.contains(g.activeElement)))});u.useEffect(()=>C==null?void 0:C(D),[C,D]);let[k,G]=Ae(),K=we(i),j=Ze({mainTreeNode:K,portals:k,defaultContainers:[i,y]});ye(g==null?void 0:g.defaultView,"focus",b=>{var s,p,P,R,H,x;b.target!==window&&b.target instanceof HTMLElement&&v===0&&(V()||i&&y&&(j.contains(b.target)||(p=(s=h.current)==null?void 0:s.contains)!=null&&p.call(s,b.target)||(R=(P=S.current)==null?void 0:P.contains)!=null&&R.call(P,b.target)||(x=(H=m.current)==null?void 0:H.contains)!=null&&x.call(H,b.target)||E({type:1})))},!0),He(v===0,j.resolveContainers,(b,s)=>{E({type:1}),$t(s,Ft.Loose)||(b.preventDefault(),i==null||i.focus())});let A=$(b=>{E({type:1});let s=b?b instanceof HTMLElement?b:"current"in b&&b.current instanceof HTMLElement?b.current:i:i;s==null||s.focus()}),J=u.useMemo(()=>({close:A,isPortalled:I}),[A,I]),q=u.useMemo(()=>({open:v===0,close:A}),[v,A]),X={ref:f},te=W();return d.createElement(ie,{node:K},d.createElement(wt,null,d.createElement(me.Provider,{value:null},d.createElement(Fe.Provider,{value:a},d.createElement(ve.Provider,{value:J},d.createElement(qe,{value:A},d.createElement(St,{value:U(v,{0:Y.Open,1:Y.Closed})},d.createElement(G,null,te({ourProps:X,theirProps:l,slot:q,defaultTag:on,name:"Popover"})))))))))}let an="button";function un(e,t){let n=u.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:l=!1,autoFocus:c=!1,...f}=e,[o,a]=pe("Popover.Button"),{isPortalled:v}=Te("Popover.Button"),i=u.useRef(null),F=`headlessui-focus-sentinel-${u.useId()}`,y=et(),w=y==null?void 0:y.closeOthers,h=nn()!==null;u.useEffect(()=>{if(!h)return a({type:3,buttonId:r}),()=>{a({type:3,buttonId:null})}},[h,r,a]);let[S]=u.useState(()=>Symbol()),m=z(i,t,ft(),$(s=>{if(!h){if(s)o.buttons.current.push(S);else{let p=o.buttons.current.indexOf(S);p!==-1&&o.buttons.current.splice(p,1)}o.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),s&&a({type:2,button:s})}})),E=z(i,t),g=ae(i),I=$(s=>{var p,P,R;if(h){if(o.popoverState===1)return;switch(s.key){case ee.Space:case ee.Enter:s.preventDefault(),(P=(p=s.target).click)==null||P.call(p),a({type:1}),(R=o.button)==null||R.focus();break}}else switch(s.key){case ee.Space:case ee.Enter:s.preventDefault(),s.stopPropagation(),o.popoverState===1&&(w==null||w(o.buttonId)),a({type:0});break;case ee.Escape:if(o.popoverState!==0)return w==null?void 0:w(o.buttonId);if(!i.current||g!=null&&g.activeElement&&!i.current.contains(g.activeElement))return;s.preventDefault(),s.stopPropagation(),a({type:1});break}}),T=$(s=>{h||s.key===ee.Space&&s.preventDefault()}),B=$(s=>{var p,P;Ve(s.currentTarget)||l||(h?(a({type:1}),(p=o.button)==null||p.focus()):(s.preventDefault(),s.stopPropagation(),o.popoverState===1&&(w==null||w(o.buttonId)),a({type:0}),(P=o.button)==null||P.focus()))}),D=$(s=>{s.preventDefault(),s.stopPropagation()}),{isFocusVisible:_,focusProps:C}=pt({autoFocus:c}),{isHovered:V,hoverProps:k}=vt({isDisabled:l}),{pressed:G,pressProps:K}=mt({disabled:l}),j=o.popoverState===0,A=u.useMemo(()=>({open:j,active:G||j,disabled:l,hover:V,focus:_,autofocus:c}),[j,V,_,G,l,c]),J=bt(e,o.button),q=h?ge({ref:E,type:J,onKeyDown:I,onClick:B,disabled:l||void 0,autoFocus:c},C,k,K):ge({ref:m,id:o.buttonId,type:J,"aria-expanded":o.popoverState===0,"aria-controls":o.panel?o.panelId:void 0,disabled:l||void 0,autoFocus:c,onKeyDown:I,onKeyUp:T,onClick:B,onMouseDown:D},C,k,K),X=Se(),te=$(()=>{let s=o.panel;if(!s)return;function p(){U(X.current,{[M.Forwards]:()=>N(s,O.First),[M.Backwards]:()=>N(s,O.Last)})===ue.Error&&N(Ee().filter(P=>P.dataset.headlessuiFocusGuard!=="true"),U(X.current,{[M.Forwards]:O.Next,[M.Backwards]:O.Previous}),{relativeTo:o.button})}p()}),b=W();return d.createElement(d.Fragment,null,b({ourProps:q,theirProps:f,slot:A,defaultTag:an,name:"Popover.Button"}),j&&!h&&v&&d.createElement(oe,{id:F,ref:o.afterButtonSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:te}))}let sn="div",cn=re.RenderStrategy|re.Static;function tt(e,t){let n=u.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:l=!1,...c}=e,[{popoverState:f},o]=pe("Popover.Backdrop"),[a,v]=u.useState(null),i=z(t,v),F=de(),[y,w]=Ue(l,a,F!==null?(F&Y.Open)===Y.Open:f===0),h=$(E=>{if(Ve(E.currentTarget))return E.preventDefault();o({type:1})}),S=u.useMemo(()=>({open:f===0}),[f]),m={ref:i,id:r,"aria-hidden":!0,onClick:h,...We(w)};return W()({ourProps:m,theirProps:c,slot:S,defaultTag:sn,features:cn,visible:y,name:"Popover.Backdrop"})}let dn="div",fn=re.RenderStrategy|re.Static;function pn(e,t){let n=u.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:l=!1,anchor:c,portal:f=!1,modal:o=!1,transition:a=!1,...v}=e,[i,F]=pe("Popover.Panel"),{close:y,isPortalled:w}=Te("Popover.Panel"),h=`headlessui-focus-sentinel-before-${n}`,S=`headlessui-focus-sentinel-after-${n}`,m=u.useRef(null),E=gt(c),[g,I]=Pt(E),T=Et();E&&(f=!0);let[B,D]=u.useState(null),_=z(m,t,E?g:null,$(s=>F({type:4,panel:s})),D),C=ae(m);Me(()=>(F({type:5,panelId:r}),()=>{F({type:5,panelId:null})}),[r,F]);let V=de(),[k,G]=Ue(a,B,V!==null?(V&Y.Open)===Y.Open:i.popoverState===0);Ke(k,i.button,()=>{F({type:1})});let K=i.__demoMode?!1:o&&k;Ge(K,C);let j=$(s=>{var p;switch(s.key){case ee.Escape:if(i.popoverState!==0||!m.current||C!=null&&C.activeElement&&!m.current.contains(C.activeElement))return;s.preventDefault(),s.stopPropagation(),F({type:1}),(p=i.button)==null||p.focus();break}});u.useEffect(()=>{var s;e.static||i.popoverState===1&&((s=e.unmount)==null||s)&&F({type:4,panel:null})},[i.popoverState,e.unmount,e.static,F]),u.useEffect(()=>{if(i.__demoMode||!l||i.popoverState!==0||!m.current)return;let s=C==null?void 0:C.activeElement;m.current.contains(s)||N(m.current,O.First)},[i.__demoMode,l,m.current,i.popoverState]);let A=u.useMemo(()=>({open:i.popoverState===0,close:y}),[i.popoverState,y]),J=ge(E?T():{},{ref:_,id:r,onKeyDown:j,onBlur:l&&i.popoverState===0?s=>{var p,P,R,H,x;let Z=s.relatedTarget;Z&&m.current&&((p=m.current)!=null&&p.contains(Z)||(F({type:1}),((R=(P=i.beforePanelSentinel.current)==null?void 0:P.contains)!=null&&R.call(P,Z)||(x=(H=i.afterPanelSentinel.current)==null?void 0:H.contains)!=null&&x.call(H,Z))&&Z.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...v.style,...I,"--button-width":yt(i.button,!0).width},...We(G)}),q=Se(),X=$(()=>{let s=m.current;if(!s)return;function p(){U(q.current,{[M.Forwards]:()=>{var P;N(s,O.First)===ue.Error&&((P=i.afterPanelSentinel.current)==null||P.focus())},[M.Backwards]:()=>{var P;(P=i.button)==null||P.focus({preventScroll:!0})}})}p()}),te=$(()=>{let s=m.current;if(!s)return;function p(){U(q.current,{[M.Forwards]:()=>{if(!i.button)return;let P=Ee(),R=P.indexOf(i.button),H=P.slice(0,R+1),x=[...P.slice(R+1),...H];for(let Z of x.slice())if(Z.dataset.headlessuiFocusGuard==="true"||B!=null&&B.contains(Z)){let Oe=x.indexOf(Z);Oe!==-1&&x.splice(Oe,1)}N(x,O.First,{sorted:!1})},[M.Backwards]:()=>{var P;N(s,O.Previous)===ue.Error&&((P=i.button)==null||P.focus())}})}p()}),b=W();return d.createElement(Ye,null,d.createElement(me.Provider,{value:r},d.createElement(ve.Provider,{value:{close:y,isPortalled:w}},d.createElement(ze,{enabled:f?e.static||k:!1},k&&w&&d.createElement(oe,{id:h,ref:i.beforePanelSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:X}),b({ourProps:J,theirProps:v,slot:A,defaultTag:dn,features:fn,visible:k,name:"Popover.Panel"}),k&&w&&d.createElement(oe,{id:S,ref:i.afterPanelSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:te})))))}let vn="div";function mn(e,t){let n=u.useRef(null),r=z(n,t),[l,c]=u.useState([]),f=$(S=>{c(m=>{let E=m.indexOf(S);if(E!==-1){let g=m.slice();return g.splice(E,1),g}return m})}),o=$(S=>(c(m=>[...m,S]),()=>f(S))),a=$(()=>{var S;let m=Be(n);if(!m)return!1;let E=m.activeElement;return(S=n.current)!=null&&S.contains(E)?!0:l.some(g=>{var I,T;return((I=m.getElementById(g.buttonId.current))==null?void 0:I.contains(E))||((T=m.getElementById(g.panelId.current))==null?void 0:T.contains(E))})}),v=$(S=>{for(let m of l)m.buttonId.current!==S&&m.close()}),i=u.useMemo(()=>({registerPopover:o,unregisterPopover:f,isFocusWithinPopoverGroup:a,closeOthers:v}),[o,f,a,v]),F=u.useMemo(()=>({}),[]),y=e,w={ref:r},h=W();return d.createElement(ie,null,d.createElement(Ie.Provider,{value:i},h({ourProps:w,theirProps:y,slot:F,defaultTag:vn,name:"Popover.Group"})))}let bn=L(ln),gn=L(un),Pn=L(tt),En=L(tt),yn=L(pn),hn=L(mn),Mn=Object.assign(bn,{Button:gn,Backdrop:En,Overlay:Pn,Panel:yn,Group:hn});var nt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},De=d.createContext&&d.createContext(nt),wn=["attr","size","title"];function Sn(e,t){if(e==null)return{};var n=$n(e,t),r,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(l=0;l<c.length;l++)r=c[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $n(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Re(Object(n),!0).forEach(function(r){Fn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fn(e,t,n){return t=Tn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tn(e){var t=In(e,"string");return typeof t=="symbol"?t:t+""}function In(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rt(e){return e&&e.map((t,n)=>d.createElement(t.tag,ce({key:n},t.attr),rt(t.child)))}function Bn(e){return t=>d.createElement(On,se({attr:ce({},e.attr)},t),rt(e.child))}function On(e){var t=n=>{var{attr:r,size:l,title:c}=e,f=Sn(e,wn),o=l||n.size||"1em",a;return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),d.createElement("svg",se({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,f,{className:a,style:ce(ce({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),c&&d.createElement("title",null,c),e.children)};return De!==void 0?d.createElement(De.Consumer,null,n=>t(n)):t(nt)}export{Bn as G,yn as R,gn as S,Jt as Y,Qt as j,Mn as l,Rn as y};
