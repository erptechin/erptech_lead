import{a as l,R as a,a5 as g}from"./index-ylOuoFxF.js";import{o as b,p as v,S as E}from"./transition-w97hCQTV.js";import{f as d,s as m}from"./hidden-D2neAe2_.js";function j(e,t,n){let[r,o]=l.useState(n),u=e!==void 0,f=l.useRef(u),c=l.useRef(!1),i=l.useRef(!1);return u&&!f.current&&!c.current?(c.current=!0,f.current=u,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!u&&f.current&&!i.current&&(i.current=!0,f.current=u,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[u?e:r,b(s=>(u||o(s),t==null?void 0:t(s)))]}function A(e){let[t]=l.useState(e);return t}function p(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))y(n,h(t,r),o);return n}function h(e,t){return e?e+"["+t+"]":t}function y(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())y(e,h(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):p(n,t,e)}function C(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}let S=l.createContext(null);function T({children:e}){let t=l.useContext(S);if(!t)return a.createElement(a.Fragment,null,e);let{target:n}=t;return n?g.createPortal(a.createElement(a.Fragment,null,e),n):null}function F({data:e,form:t,disabled:n,onReset:r,overrides:o}){let[u,f]=l.useState(null),c=v();return l.useEffect(()=>{if(r&&u)return c.addEventListener(u,"reset",r)},[u,t,r]),a.createElement(T,null,a.createElement(I,{setForm:f,formId:t}),p(e).map(([i,s])=>a.createElement(d,{features:m.Hidden,...E({key:i,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:i,value:s,...o})})))}function I({setForm:e,formId:t}){return l.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:a.createElement(d,{features:m.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}function N(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function k(e=N){return l.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}export{j as T,F as j,A as l,C as p,k as u};
